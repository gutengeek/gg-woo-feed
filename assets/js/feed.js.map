{"version":3,"file":"feed.js","sources":["src/js/admin/feed.js"],"sourcesContent":["( function ( $ ) {\n  var GG_Woo_Feed_Feed = {\n    init: function () {\n      GG_Woo_Feed_Feed.sortable_init();\n      GG_Woo_Feed_Feed.disable_init();\n      GG_Woo_Feed_Feed.feed_init();\n      GG_Woo_Feed_Feed.generate_feed();\n      GG_Woo_Feed_Feed.delete_feed();\n      GG_Woo_Feed_Feed.add_new_row();\n      GG_Woo_Feed_Feed.delete_row();\n      GG_Woo_Feed_Feed.submit_google_merchant();\n      GG_Woo_Feed_Feed.google_sync_metabox();\n      GG_Woo_Feed_Feed.add_new_filter_condition();\n      GG_Woo_Feed_Feed.delete_filter_condition();\n      GG_Woo_Feed_Feed.condition_sortable_init();\n      GG_Woo_Feed_Feed.no_conditions();\n      GG_Woo_Feed_Feed.add_new_filter_by_attributes_condition();\n      GG_Woo_Feed_Feed.delete_filter_by_attributes_condition();\n      GG_Woo_Feed_Feed.attributes_condition_sortable_init();\n      GG_Woo_Feed_Feed.no_attributes_conditions();\n      GG_Woo_Feed_Feed.utils();\n    },\n    sortable_init: function () {\n      var $table_body = $( '.gg_woo_feed-table-template tbody' );\n      if ( $table_body.length ) {\n        $table_body.sortable( { cursor: 'move' } ).disableSelection();\n      }\n    },\n    disable_init: function () {\n      $.fn.disabled = function ( status ) {\n        $( this ).each( function () {\n          var self = $( this ), prop = 'disabled';\n          if ( typeof ( self.prop( prop ) ) !== 'undefined' ) {\n            self.prop( prop, status === void 0 || status === true );\n          } else {\n            !0 === status ? self.addClass( prop ) : self.removeClass( prop );\n          }\n        } );\n        return self;\n      };\n\n      $.fn.isDisabled = function () {\n        var self = $( this ), prop = 'disabled';\n        return ( typeof ( self.prop( prop ) ) !== 'undefined' ) ? self.prop( prop ) : self.hasClass( prop );\n      };\n    },\n    add_new_row: function () {\n      $( document ).on( 'click', '#gg_woo_feed-add-new-row', function () {\n        $( '#gg_woo_feed-table-template tbody tr:first' )\n          .clone()\n          .find( 'input' )\n          .val( '' )\n          .end()\n          .find( 'select:not(\\'.gg_woo_feed-not-empty\\')' )\n          .val( '' )\n          .end()\n          .insertAfter( '#gg_woo_feed-table-template tbody tr:last' );\n        $( '.output_type' ).each( function ( index ) {\n          $( this ).attr( 'name', 'output_type[' + index + '][]' );\n        } );\n      } );\n    },\n    delete_row: function () {\n      $( document ).on( 'click', '.gg_woo_feed-del-row', function ( e ) {\n        e.preventDefault();\n        $( this ).closest( 'tr' ).remove();\n      } );\n    },\n    feed_init: function () {\n      var mapping_editor = {\n          form: null,\n          init: function () {\n            let self = this;\n            self.form = $( '.gg_woo_feed-generate-form' );\n            if ( !self.form.length ) return;\n\n            GG_Woo_Feed_Feed.sortable_init();\n\n            $( '.gg_woo_feed-google-taxonomy-select' ).select2();\n            $( document )\n              .on( 'change', '.attr_type', function () {\n                var type = $( this ).val(), row = $( this ).closest( 'tr' );\n                if ( type === 'pattern' ) {\n                  row.find( '.gg_woo_feed-attr-val' ).hide();\n                  row.find( '.gg_woo_feed-attr-val' ).val( '' );\n                  row.find( '.gg_woo_feed-default-val' ).show();\n                } else {\n                  row.find( '.gg_woo_feed-attr-val' ).show();\n                  row.find( '.gg_woo_feed-default-val' ).hide();\n                  row.find( '.gg_woo_feed-default-val' ).val( '' );\n                }\n              } )\n              .on( 'change', '.gg_woo_feed-map-attributes, .attr_type', function () {\n                var row = $( this ).closest( 'tr' ),\n                  attribute = row.find( '.gg_woo_feed-map-attributes' ),\n                  type = row.find( '.attr_type' ),\n                  value_column = row.find( 'td:eq(4)' );\n                if ( attribute.val() !== 'google_taxonomy' &&\n                  value_column.find( 'input.gg_woo_feed-default-val' ).length === 0 ) {\n                  value_column.find( 'span' ).remove();\n                  value_column.append(\n                    '<input autocomplete=\"off\" class=\"gg_woo_feed-default-val gg_woo_feed-attributes\"  type=\"text\" name=\"default[]\" value=\"\">' );\n                  if ( type.val() !== 'pattern' ) {\n                    value_column.find( 'input.gg_woo_feed-default-val' ).hide();\n                  }\n                }\n              } )\n              .trigger( 'change' );\n          },\n          render_provider_mapping: function ( $feed_form, res, $feed_type ) {\n            $feed_form.html( res[ 'mapping_template' ] );\n            $( '[name=\"feed_type\"]' ).find( '[value=\"' + res[ 'feed_type' ] + '\"]' ).prop( 'selected', true );\n            $( '[name=\"items_wrap\"]' ).val( res[ 'items_wrap' ] );\n            $( '[name=\"item_wrap\"]' ).val( res[ 'item_wrap' ] );\n            $( '[name=\"delimiter\"]' ).find( '[value=\"' + res[ 'delimiter' ] + '\"]' ).prop( 'selected', true );\n            $( '[name=\"enclosure\"]' ).find( '[value=\"' + res[ 'enclosure' ] + '\"]' ).prop( 'selected', true );\n\n            $feed_type.disabled( !1 );\n            $feed_type.trigger( 'change' );\n            $feed_type.parent().find( '.spinner' ).removeClass( 'is-active' );\n\n            mapping_editor.init();\n          }\n        },\n        mapping_cache = [];\n\n      mapping_editor.init();\n\n      $( '.gg_woo_feed-provider-select' ).on( 'change', function ( event ) {\n        event.preventDefault();\n        if ( !$( this ).closest( '.gg_woo_feed-generate-form' ).hasClass( 'add-new' ) ) {\n          return;\n        }\n\n        var provider = $( this ).val(),\n          $feed_type = $( '.gg_woo_feed-feedtype-select' ),\n          $feed_form = $( '#gg_woo_feed_core_mapping_fields' );\n\n        $feed_type.disabled( !0 );\n        $feed_type.parent().find( '.spinner' ).addClass( 'is-active' );\n\n        if ( mapping_cache.hasOwnProperty( provider ) ) {\n          mapping_editor.render_provider_mapping( $feed_form, mapping_cache[ provider ], $feed_type );\n        } else {\n          $.ajax( {\n            url: ajaxurl,\n            method: 'POST',\n            data: {\n              action: 'gg_woo_feed_provider_mapping_view',\n              _ajax_nonce: ggWooFeed.nonce,\n              provider: provider\n            },\n            beforeSend: () => {}\n          } ).always( () => {\n\n          } ).done( ( res ) => {\n            mapping_cache[ provider ] = res.data;\n            mapping_editor.render_provider_mapping( $feed_form, res.data, $feed_type );\n          } ).fail( ( err ) => {\n\n          } );\n        }\n      } );\n\n      $( '.gg_woo_feed-feedtype-select, .gg_woo_feed-provider-select' ).on( 'change', function () {\n        var type = $( '.gg_woo_feed-feedtype-select' ).val(),\n          provider = $( '.gg_woo_feed-provider-select' ).val(),\n          item_wrap = $( '.item_wrap' ),\n          $csv_txt = $( '.gg_woo_feed-type-csvtxt' );\n        if ( type === 'xml' ) {\n          item_wrap.show();\n          $csv_txt.hide();\n        } else if ( type === 'csv' || type === 'txt' ) {\n          item_wrap.hide();\n          $csv_txt.show();\n        } else if ( type === '' ) {\n          item_wrap.hide();\n          $csv_txt.hide();\n        }\n        if ( type !== '' && [ 'google', 'facebook', 'pinterest' ].indexOf( provider ) !== -1 ) {\n          item_wrap.hide();\n        }\n      } ).trigger( 'change' );\n    },\n    generate_feed: function () {\n      var $close_button = $( '.close-gg_woo_feed-modal' );\n      var $spinner = $( '.gg_woo_feed-spinner' );\n      var $view_feed = $( '.button-view-feed' );\n      var $stay_edit = $( '.button-stay-edit' );\n\n      $( document ).on( 'click', '.js-regenerate-feed', function ( e ) {\n        e.preventDefault();\n        $( '.gg_woo_feed-modal ' ).css( { 'display': 'block' } );\n        var feed_name = $( this ).attr( 'id' );\n        get_products( feed_name );\n      } );\n\n      $( document ).on( 'click', '.gg_woo_feed-generate', function ( e ) {\n        e.preventDefault();\n        $( '.gg_woo_feed-modal ' ).css( { 'display': 'block' } );\n        var form = document.forms.namedItem( 'feed' );\n        var formData = new FormData( form );\n        formData.append( 'action', 'gg_woo_feed_save_config' );\n\n        $.ajax( {\n          url: ajaxurl,\n          method: 'POST',\n          data: formData,\n          dataType: 'json',\n          contentType: false,\n          cache: false,\n          processData: false,\n          beforeSend: () => {\n            $spinner.show();\n            set_progress_status( '...' );\n          }\n        } ).always( () => {\n\n        } ).done( ( res ) => {\n          if ( res.data.status ) {\n            set_progress_status( res.data.message );\n            set_progress_bar_fill( 10 );\n            set_progress_percentage( 10 );\n            get_products( res.data.file_name );\n          } else {\n            set_progress_status( res.data.message );\n          }\n        } ).fail( ( err ) => {\n          set_progress_status( err.responseJSON.data.message );\n          $close_button.show();\n          $spinner.hide();\n        } );\n      } );\n\n      function get_products( file_name ) {\n        $.ajax( {\n          url: ajaxurl,\n          method: 'POST',\n          data: {\n            action: 'gg_woo_feed_get_products_for_feed',\n            _ajax_nonce: ggWooFeed.nonce,\n            file_name: file_name,\n          },\n          beforeSend: () => {}\n        } ).always( () => {\n\n        } ).done( ( res ) => {\n          if ( res.data.status ) {\n            set_progress_status( res.data.message );\n            set_progress_bar_fill( 20 );\n            set_progress_percentage( 20 );\n            generate( file_name, res.data.products, res.data.total );\n          }\n\n        } ).fail( ( err ) => {\n          set_progress_status( err.responseJSON.data.message );\n          $close_button.show();\n          $spinner.hide();\n        } );\n      }\n\n      function generate( file_name, batches, total_products, n ) {\n        if ( typeof ( n ) === 'undefined' ) {\n          n = 0;\n        }\n\n        var total_batch = batches.length;\n        var progress_batch = 70 / total_batch;\n        var batch = batches[ n ];\n        var product_batch = n + 1;\n\n        $.ajax( {\n          url: ajaxurl,\n          method: 'POST',\n          data: {\n            action: 'gg_woo_feed_make_batch_feed',\n            file_name: file_name,\n            products: batch,\n            _ajax_nonce: ggWooFeed.nonce,\n            loop: n,\n          },\n          beforeSend: () => {\n            set_progress_status(\n              'Processing batch ' + product_batch + ' of ' + total_batch + ' per total ' +\n              total_products + ' products.' );\n          }\n        } ).always( () => {\n\n        } ).done( ( res ) => {\n          if ( product_batch < total_batch ) {\n            n = n + 1;\n            generate( file_name, batches, total_products, n );\n            set_progress_bar_fill( 20 + progress_batch * product_batch );\n            set_progress_percentage( Math.round( 20 + progress_batch * product_batch ) );\n          }\n\n          if ( product_batch === total_batch ) {\n            save_file( file_name );\n          }\n\n        } ).fail( ( err ) => {\n          set_progress_status( err.responseJSON.data.message );\n          $close_button.show();\n          $spinner.hide();\n        } );\n      }\n\n      function save_file( file_name ) {\n        $.ajax( {\n          url: ajaxurl,\n          method: 'POST',\n          data: {\n            action: 'gg_woo_feed_save_feed_file',\n            _ajax_nonce: ggWooFeed.nonce,\n            file_name: file_name,\n          },\n          beforeSend: () => {\n            set_progress_status( 'Saving file...' );\n          }\n        } ).always( () => {\n\n        } ).done( ( res ) => {\n          if ( res.data.status ) {\n            set_progress_status( res.data.message );\n            set_progress_bar_fill( 100 );\n            set_progress_percentage( 100 );\n            $spinner.remove();\n            $close_button.remove();\n            $( '.gg_woo_feed-redirect-message' ).show();\n            $view_feed.attr( 'href', res.data.url );\n            $stay_edit.attr( 'href', res.data.edit_link );\n            $view_feed.show();\n            $stay_edit.show();\n\n            var timeleft = 5;\n            var downloadTimer = setInterval( function () {\n              timeleft--;\n              document.getElementById( 'countdowntimer' ).textContent = timeleft;\n              if ( timeleft <= 0 )\n                clearInterval( downloadTimer );\n            }, 1000 );\n            setTimeout( function () {\n              window.location.href = ggWooFeed.manage_feeds_link;\n            }, 5000 );\n          }\n        } ).fail( ( err ) => {\n          set_progress_status( err.responseJSON.data.message );\n          $close_button.show();\n          $spinner.hide();\n        } );\n      }\n\n      function set_progress_status( text ) {\n        $( '.gg_woo_feed-progress-status' ).html( text );\n      }\n\n      function set_progress_bar_fill( percent ) {\n        $( '.gg_woo_feed-progress-bar-fill' ).css( 'width', percent + '%' );\n      }\n\n      function set_progress_percentage( text ) {\n        $( '.gg_woo_feed-progress-percentage' ).html( text + '%' );\n      }\n    },\n    delete_feed: function () {\n      $( '#manage-feeds-form .submitdelete' ).on( 'click', function ( e ) {\n        e.preventDefault();\n        if ( confirm( 'Press a button!\\nEither OK or Cancel.' ) ) {\n          window.location.href = $( this ).attr( 'href' );\n        }\n      } );\n    },\n    submit_google_merchant: function () {\n      $( '#submit-google-merchant' ).on( 'click', function ( e ) {\n        e.preventDefault();\n        var form = document.forms.namedItem( 'feed' );\n        var formData = new FormData( form );\n        formData.append( 'action', 'gg_woo_feed_submit_google_merchant' );\n        var $submit_button = $( this ),\n          $el_status = $( '.gg-woo-feed-google-sync-status' ),\n          $spinner = $( '.gg_woo_feed-spinner' ),\n          $icon = $( '.gg-sync-upload-icon' );\n\n        $.ajax( {\n          url: ajaxurl,\n          method: 'POST',\n          data: formData,\n          dataType: 'json',\n          contentType: false,\n          cache: false,\n          processData: false,\n          beforeSend: () => {\n            $submit_button.attr( 'disabled', true );\n            $icon.hide();\n            $spinner.show();\n          }\n        } ).always( () => {\n\n        } ).done( ( res ) => {\n          $el_status.hide();\n          $el_status.removeClass( 'error' );\n          $el_status.addClass( 'updated' );\n          $el_status.find( '.gg-woo-feed-google-sync-message' ).html( res.data.message );\n          $el_status.find( '.gg-woo-feed-google-sync-message' ).show();\n          $el_status.find( '.gg-woo-feed-google-sync-status-detail' ).hide();\n          $el_status.find( '.gg-woo-feed-google-sync-message-error' ).hide();\n          $el_status.find( '.gg-woo-feed-google-error-detail__reason' ).html( '' );\n          $el_status.find( '.gg-woo-feed-google-error-detail__mess' ).html( '' );\n          $el_status.show();\n          $icon.show();\n          $spinner.hide();\n          $submit_button.attr( 'disabled', false );\n          location.reload();\n        } ).fail( ( err ) => {\n          $el_status.addClass( 'error' );\n          $el_status.removeClass( 'updated' );\n          $el_status.find( '.gg-woo-feed-google-error-detail__reason' ).html( err.responseJSON.data.reason );\n          $el_status.find( '.gg-woo-feed-google-error-detail__mess' ).html( err.responseJSON.data.message );\n          $el_status.find( '.gg-woo-feed-google-sync-message' ).hide();\n          $el_status.find( '.gg-woo-feed-google-sync-status-detail' ).show();\n          $el_status.find( '.gg-woo-feed-google-sync-message-error' ).show();\n          $el_status.show();\n          $icon.show();\n          $spinner.hide();\n          $submit_button.attr( 'disabled', false );\n        } );\n      } );\n    },\n    google_sync_metabox: function () {\n      $( document ).ready( function () {\n        var schedule = $( '#google_schedule' ).val();\n        change_schedule( schedule );\n      } );\n\n      $( '#google_schedule' ).on( 'change', function ( e ) {\n        var schedule = $( this ).val();\n        change_schedule( schedule );\n      } );\n\n      function change_schedule( schedule ) {\n        var $month = $( '#google_schedule_month_wrapper' ),\n          $week = $( '#google_schedule_week_day_wrapper' );\n\n        if ( 'monthly' === schedule ) {\n          $month.show();\n          $week.hide();\n        } else if ( 'weekly' === schedule ) {\n          $month.hide();\n          $week.show();\n        } else {\n          $month.hide();\n          $week.hide();\n        }\n      }\n    },\n    add_new_filter_condition: function () {\n      var condition_cache = '';\n      $( '#gg_woo_feed-add-new-condition' ).on( 'click', function ( e ) {\n        e.preventDefault();\n        var $filter_body = $( '#gg_woo_feed-table-filter tbody' );\n        if ( condition_cache ) {\n          $filter_body.append( condition_cache );\n          GG_Woo_Feed_Feed.no_conditions();\n          GG_Woo_Feed_Feed.condition_sortable_init();\n        } else {\n          $.ajax( {\n            url: ajaxurl,\n            method: 'POST',\n            data: {\n              action: 'gg_woo_feed_add_new_filter_condition',\n              _ajax_nonce: ggWooFeed.nonce,\n            },\n          } ).always( () => {\n\n          } ).done( ( res ) => {\n            $filter_body.append( res.data.row );\n            condition_cache = res.data.row;\n            GG_Woo_Feed_Feed.no_conditions();\n            GG_Woo_Feed_Feed.condition_sortable_init();\n          } ).fail( ( err ) => {\n\n          } );\n        }\n      } );\n    },\n    delete_filter_condition: function () {\n      $( document ).on( 'click', '.gg_woo_feed-del-condition', function ( e ) {\n        e.preventDefault();\n        $( this ).closest( 'tr' ).remove();\n        GG_Woo_Feed_Feed.no_conditions();\n        GG_Woo_Feed_Feed.condition_sortable_init();\n      } );\n    },\n    condition_sortable_init: function () {\n      var $table_body = $( '.gg_woo_feed-table-filter tbody' );\n      if ( $table_body.length ) {\n        $table_body.sortable( { cursor: 'move' } ).disableSelection();\n      }\n    },\n    no_conditions: function ( e ) {\n      var no_conditions = $( '#gg_woo_feed-table-filter tbody tr:not(.gg_woo_feed-no-conditions)' ).length;\n      if ( no_conditions >= 1 ) {\n        $( '.gg_woo_feed-no-conditions' ).hide();\n      } else {\n        $( '.gg_woo_feed-no-conditions' ).show();\n      }\n    },\n    add_new_filter_by_attributes_condition: function () {\n      var condition_cache = '';\n      $( '#gg_woo_feed-add-new-condition-attribites' ).on( 'click', function ( e ) {\n        e.preventDefault();\n        var $filter_body = $( '#gg_woo_feed-table-filter-attributes tbody' );\n        if ( condition_cache ) {\n          $filter_body.append( condition_cache );\n          GG_Woo_Feed_Feed.no_attributes_conditions();\n          GG_Woo_Feed_Feed.attributes_condition_sortable_init();\n        } else {\n          $.ajax( {\n            url: ajaxurl,\n            method: 'POST',\n            data: {\n              action: 'gg_woo_feed_add_new_filter_by_attributes_condition',\n              _ajax_nonce: ggWooFeed.nonce,\n            },\n          } ).always( () => {\n\n          } ).done( ( res ) => {\n            $filter_body.append( res.data.row );\n            condition_cache = res.data.row;\n            GG_Woo_Feed_Feed.no_attributes_conditions();\n            GG_Woo_Feed_Feed.attributes_condition_sortable_init();\n          } ).fail( ( err ) => {\n\n          } );\n        }\n      } );\n    },\n    delete_filter_by_attributes_condition: function () {\n      $( document ).on( 'click', '.gg_woo_feed-del-condition-attributes', function ( e ) {\n        e.preventDefault();\n        $( this ).closest( 'tr' ).remove();\n        GG_Woo_Feed_Feed.no_attributes_conditions();\n        GG_Woo_Feed_Feed.attributes_condition_sortable_init();\n      } );\n    },\n    attributes_condition_sortable_init: function () {\n      var $table_body = $( '.gg_woo_feed-table-filter-attributes tbody' );\n      if ( $table_body.length ) {\n        $table_body.sortable( { cursor: 'move' } ).disableSelection();\n      }\n    },\n    no_attributes_conditions: function ( e ) {\n      var no_conditions = $( '#gg_woo_feed-table-filter-attributes tbody tr:not(.gg_woo_feed-no-conditions_attributes)' ).length;\n      if ( no_conditions >= 1 ) {\n        $( '.gg_woo_feed-no-conditions_attributes' ).hide();\n      } else {\n        $( '.gg_woo_feed-no-conditions_attributes' ).show();\n      }\n    },\n    utils: function ( e ) {\n      $( document ).ready( function () {\n        var $filter_by_attributes = $( '[name=\"filter_by_attributes\"]' );\n        use_filter_by_attributes( $filter_by_attributes );\n\n        $filter_by_attributes.change( function () {\n          var $el = $( this );\n          use_filter_by_attributes( $el );\n        } );\n\n        $('#gg_woo_feed-form-filter_by_date').change(function () {\n          var $depend = $('.filter_by_date_section');\n\n          if ($(this).prop('checked')) {\n            $depend.show();\n          } else {\n            $depend.hide();\n          }\n        });\n      } );\n\n      function use_filter_by_attributes( $el ) {\n        var $depend = $( '.filter_by_attributes_section' );\n        var $ex_depend = $('#gg_woo_feed-select-product_type, #gg_woo_feed-form-exclude_variations-wrap,' +\n          ' #gg_woo_feed-form-show_main_variable_product-wrap');\n        if ( $el.prop( 'checked' ) ) {\n          $depend.show();\n          $ex_depend.hide();\n        } else {\n          $depend.hide();\n          $ex_depend.show();\n        }\n      }\n    }\n  };\n\n  $( GG_Woo_Feed_Feed.init );\n} )( jQuery );\n"],"names":["$","GG_Woo_Feed_Feed","init","sortable_init","disable_init","feed_init","generate_feed","delete_feed","add_new_row","delete_row","submit_google_merchant","google_sync_metabox","add_new_filter_condition","delete_filter_condition","condition_sortable_init","no_conditions","add_new_filter_by_attributes_condition","delete_filter_by_attributes_condition","attributes_condition_sortable_init","no_attributes_conditions","utils","$table_body","length","sortable","cursor","disableSelection","fn","disabled","status","each","self","prop","addClass","removeClass","isDisabled","hasClass","document","on","clone","find","val","end","insertAfter","index","attr","e","preventDefault","closest","remove","mapping_editor","form","select2","type","row","hide","show","attribute","value_column","append","trigger","render_provider_mapping","$feed_form","res","$feed_type","html","parent","mapping_cache","event","provider","hasOwnProperty","ajax","url","ajaxurl","method","data","action","_ajax_nonce","ggWooFeed","nonce","beforeSend","always","done","fail","err","item_wrap","$csv_txt","indexOf","$close_button","$spinner","$view_feed","$stay_edit","css","feed_name","get_products","forms","namedItem","formData","FormData","dataType","contentType","cache","processData","set_progress_status","message","set_progress_bar_fill","set_progress_percentage","file_name","responseJSON","generate","products","total","batches","total_products","n","total_batch","progress_batch","batch","product_batch","loop","Math","round","save_file","edit_link","timeleft","downloadTimer","setInterval","getElementById","textContent","clearInterval","setTimeout","window","location","href","manage_feeds_link","text","percent","confirm","$submit_button","$el_status","$icon","reload","reason","ready","schedule","change_schedule","$month","$week","condition_cache","$filter_body","$filter_by_attributes","use_filter_by_attributes","change","$el","$depend","$ex_depend","jQuery"],"mappings":";;;EAAA,CAAE,UAAWA,CAAX,EAAe;EACf,MAAIC,gBAAgB,GAAG;EACrBC,IAAAA,IAAI,EAAE,gBAAY;EAChBD,MAAAA,gBAAgB,CAACE,aAAjB;EACAF,MAAAA,gBAAgB,CAACG,YAAjB;EACAH,MAAAA,gBAAgB,CAACI,SAAjB;EACAJ,MAAAA,gBAAgB,CAACK,aAAjB;EACAL,MAAAA,gBAAgB,CAACM,WAAjB;EACAN,MAAAA,gBAAgB,CAACO,WAAjB;EACAP,MAAAA,gBAAgB,CAACQ,UAAjB;EACAR,MAAAA,gBAAgB,CAACS,sBAAjB;EACAT,MAAAA,gBAAgB,CAACU,mBAAjB;EACAV,MAAAA,gBAAgB,CAACW,wBAAjB;EACAX,MAAAA,gBAAgB,CAACY,uBAAjB;EACAZ,MAAAA,gBAAgB,CAACa,uBAAjB;EACAb,MAAAA,gBAAgB,CAACc,aAAjB;EACAd,MAAAA,gBAAgB,CAACe,sCAAjB;EACAf,MAAAA,gBAAgB,CAACgB,qCAAjB;EACAhB,MAAAA,gBAAgB,CAACiB,kCAAjB;EACAjB,MAAAA,gBAAgB,CAACkB,wBAAjB;EACAlB,MAAAA,gBAAgB,CAACmB,KAAjB;EACD,KApBoB;EAqBrBjB,IAAAA,aAAa,EAAE,yBAAY;EACzB,UAAIkB,WAAW,GAAGrB,CAAC,CAAE,mCAAF,CAAnB;;EACA,UAAKqB,WAAW,CAACC,MAAjB,EAA0B;EACxBD,QAAAA,WAAW,CAACE,QAAZ,CAAsB;EAAEC,UAAAA,MAAM,EAAE;EAAV,SAAtB,EAA2CC,gBAA3C;EACD;EACF,KA1BoB;EA2BrBrB,IAAAA,YAAY,EAAE,wBAAY;EACxBJ,MAAAA,CAAC,CAAC0B,EAAF,CAAKC,QAAL,GAAgB,UAAWC,MAAX,EAAoB;EAClC5B,QAAAA,CAAC,CAAE,IAAF,CAAD,CAAU6B,IAAV,CAAgB,YAAY;EAC1B,cAAIC,IAAI,GAAG9B,CAAC,CAAE,IAAF,CAAZ;EAAA,cAAsB+B,IAAI,GAAG,UAA7B;;EACA,cAAK,OAASD,IAAI,CAACC,IAAL,CAAWA,IAAX,CAAT,KAAiC,WAAtC,EAAoD;EAClDD,YAAAA,IAAI,CAACC,IAAL,CAAWA,IAAX,EAAiBH,MAAM,KAAK,KAAK,CAAhB,IAAqBA,MAAM,KAAK,IAAjD;EACD,WAFD,MAEO;EACL,aAAC,CAAD,KAAOA,MAAP,GAAgBE,IAAI,CAACE,QAAL,CAAeD,IAAf,CAAhB,GAAwCD,IAAI,CAACG,WAAL,CAAkBF,IAAlB,CAAxC;EACD;EACF,SAPD;EAQA,eAAOD,IAAP;EACD,OAVD;;EAYA9B,MAAAA,CAAC,CAAC0B,EAAF,CAAKQ,UAAL,GAAkB,YAAY;EAC5B,YAAIJ,IAAI,GAAG9B,CAAC,CAAE,IAAF,CAAZ;EAAA,YAAsB+B,IAAI,GAAG,UAA7B;EACA,eAAS,OAASD,IAAI,CAACC,IAAL,CAAWA,IAAX,CAAT,KAAiC,WAAnC,GAAmDD,IAAI,CAACC,IAAL,CAAWA,IAAX,CAAnD,GAAuED,IAAI,CAACK,QAAL,CAAeJ,IAAf,CAA9E;EACD,OAHD;EAID,KA5CoB;EA6CrBvB,IAAAA,WAAW,EAAE,uBAAY;EACvBR,MAAAA,CAAC,CAAEoC,QAAF,CAAD,CAAcC,EAAd,CAAkB,OAAlB,EAA2B,0BAA3B,EAAuD,YAAY;EACjErC,QAAAA,CAAC,CAAE,4CAAF,CAAD,CACGsC,KADH,GAEGC,IAFH,CAES,OAFT,EAGGC,GAHH,CAGQ,EAHR,EAIGC,GAJH,GAKGF,IALH,CAKS,wCALT,EAMGC,GANH,CAMQ,EANR,EAOGC,GAPH,GAQGC,WARH,CAQgB,2CARhB;EASA1C,QAAAA,CAAC,CAAE,cAAF,CAAD,CAAoB6B,IAApB,CAA0B,UAAWc,KAAX,EAAmB;EAC3C3C,UAAAA,CAAC,CAAE,IAAF,CAAD,CAAU4C,IAAV,CAAgB,MAAhB,EAAwB,iBAAiBD,KAAjB,GAAyB,KAAjD;EACD,SAFD;EAGD,OAbD;EAcD,KA5DoB;EA6DrBlC,IAAAA,UAAU,EAAE,sBAAY;EACtBT,MAAAA,CAAC,CAAEoC,QAAF,CAAD,CAAcC,EAAd,CAAkB,OAAlB,EAA2B,sBAA3B,EAAmD,UAAWQ,CAAX,EAAe;EAChEA,QAAAA,CAAC,CAACC,cAAF;EACA9C,QAAAA,CAAC,CAAE,IAAF,CAAD,CAAU+C,OAAV,CAAmB,IAAnB,EAA0BC,MAA1B;EACD,OAHD;EAID,KAlEoB;EAmErB3C,IAAAA,SAAS,EAAE,qBAAY;EACrB,UAAI4C,cAAc,GAAG;EACjBC,QAAAA,IAAI,EAAE,IADW;EAEjBhD,QAAAA,IAAI,EAAE,gBAAY;EAChB,cAAI4B,IAAI,GAAG,IAAX;EACAA,UAAAA,IAAI,CAACoB,IAAL,GAAYlD,CAAC,CAAE,4BAAF,CAAb;EACA,cAAK,CAAC8B,IAAI,CAACoB,IAAL,CAAU5B,MAAhB,EAAyB;EAEzBrB,UAAAA,gBAAgB,CAACE,aAAjB;EAEAH,UAAAA,CAAC,CAAE,qCAAF,CAAD,CAA2CmD,OAA3C;EACAnD,UAAAA,CAAC,CAAEoC,QAAF,CAAD,CACGC,EADH,CACO,QADP,EACiB,YADjB,EAC+B,YAAY;EACvC,gBAAIe,IAAI,GAAGpD,CAAC,CAAE,IAAF,CAAD,CAAUwC,GAAV,EAAX;EAAA,gBAA4Ba,GAAG,GAAGrD,CAAC,CAAE,IAAF,CAAD,CAAU+C,OAAV,CAAmB,IAAnB,CAAlC;;EACA,gBAAKK,IAAI,KAAK,SAAd,EAA0B;EACxBC,cAAAA,GAAG,CAACd,IAAJ,CAAU,uBAAV,EAAoCe,IAApC;EACAD,cAAAA,GAAG,CAACd,IAAJ,CAAU,uBAAV,EAAoCC,GAApC,CAAyC,EAAzC;EACAa,cAAAA,GAAG,CAACd,IAAJ,CAAU,0BAAV,EAAuCgB,IAAvC;EACD,aAJD,MAIO;EACLF,cAAAA,GAAG,CAACd,IAAJ,CAAU,uBAAV,EAAoCgB,IAApC;EACAF,cAAAA,GAAG,CAACd,IAAJ,CAAU,0BAAV,EAAuCe,IAAvC;EACAD,cAAAA,GAAG,CAACd,IAAJ,CAAU,0BAAV,EAAuCC,GAAvC,CAA4C,EAA5C;EACD;EACF,WAZH,EAaGH,EAbH,CAaO,QAbP,EAaiB,yCAbjB,EAa4D,YAAY;EACpE,gBAAIgB,GAAG,GAAGrD,CAAC,CAAE,IAAF,CAAD,CAAU+C,OAAV,CAAmB,IAAnB,CAAV;EAAA,gBACES,SAAS,GAAGH,GAAG,CAACd,IAAJ,CAAU,6BAAV,CADd;EAAA,gBAEEa,IAAI,GAAGC,GAAG,CAACd,IAAJ,CAAU,YAAV,CAFT;EAAA,gBAGEkB,YAAY,GAAGJ,GAAG,CAACd,IAAJ,CAAU,UAAV,CAHjB;;EAIA,gBAAKiB,SAAS,CAAChB,GAAV,OAAoB,iBAApB,IACHiB,YAAY,CAAClB,IAAb,CAAmB,+BAAnB,EAAqDjB,MAArD,KAAgE,CADlE,EACsE;EACpEmC,cAAAA,YAAY,CAAClB,IAAb,CAAmB,MAAnB,EAA4BS,MAA5B;EACAS,cAAAA,YAAY,CAACC,MAAb,CACE,0HADF;;EAEA,kBAAKN,IAAI,CAACZ,GAAL,OAAe,SAApB,EAAgC;EAC9BiB,gBAAAA,YAAY,CAAClB,IAAb,CAAmB,+BAAnB,EAAqDe,IAArD;EACD;EACF;EACF,WA3BH,EA4BGK,OA5BH,CA4BY,QA5BZ;EA6BD,SAvCgB;EAwCjBC,QAAAA,uBAAuB,EAAE,iCAAWC,UAAX,EAAuBC,GAAvB,EAA4BC,UAA5B,EAAyC;EAChEF,UAAAA,UAAU,CAACG,IAAX,CAAiBF,GAAG,CAAE,kBAAF,CAApB;EACA9D,UAAAA,CAAC,CAAE,oBAAF,CAAD,CAA0BuC,IAA1B,CAAgC,aAAauB,GAAG,CAAE,WAAF,CAAhB,GAAkC,IAAlE,EAAyE/B,IAAzE,CAA+E,UAA/E,EAA2F,IAA3F;EACA/B,UAAAA,CAAC,CAAE,qBAAF,CAAD,CAA2BwC,GAA3B,CAAgCsB,GAAG,CAAE,YAAF,CAAnC;EACA9D,UAAAA,CAAC,CAAE,oBAAF,CAAD,CAA0BwC,GAA1B,CAA+BsB,GAAG,CAAE,WAAF,CAAlC;EACA9D,UAAAA,CAAC,CAAE,oBAAF,CAAD,CAA0BuC,IAA1B,CAAgC,aAAauB,GAAG,CAAE,WAAF,CAAhB,GAAkC,IAAlE,EAAyE/B,IAAzE,CAA+E,UAA/E,EAA2F,IAA3F;EACA/B,UAAAA,CAAC,CAAE,oBAAF,CAAD,CAA0BuC,IAA1B,CAAgC,aAAauB,GAAG,CAAE,WAAF,CAAhB,GAAkC,IAAlE,EAAyE/B,IAAzE,CAA+E,UAA/E,EAA2F,IAA3F;EAEAgC,UAAAA,UAAU,CAACpC,QAAX,CAAqB,CAAC,CAAtB;EACAoC,UAAAA,UAAU,CAACJ,OAAX,CAAoB,QAApB;EACAI,UAAAA,UAAU,CAACE,MAAX,GAAoB1B,IAApB,CAA0B,UAA1B,EAAuCN,WAAvC,CAAoD,WAApD;EAEAgB,UAAAA,cAAc,CAAC/C,IAAf;EACD;EArDgB,OAArB;EAAA,UAuDEgE,aAAa,GAAG,EAvDlB;EAyDAjB,MAAAA,cAAc,CAAC/C,IAAf;EAEAF,MAAAA,CAAC,CAAE,8BAAF,CAAD,CAAoCqC,EAApC,CAAwC,QAAxC,EAAkD,UAAW8B,KAAX,EAAmB;EACnEA,QAAAA,KAAK,CAACrB,cAAN;;EACA,YAAK,CAAC9C,CAAC,CAAE,IAAF,CAAD,CAAU+C,OAAV,CAAmB,4BAAnB,EAAkDZ,QAAlD,CAA4D,SAA5D,CAAN,EAAgF;EAC9E;EACD;;EAED,YAAIiC,QAAQ,GAAGpE,CAAC,CAAE,IAAF,CAAD,CAAUwC,GAAV,EAAf;EAAA,YACEuB,UAAU,GAAG/D,CAAC,CAAE,8BAAF,CADhB;EAAA,YAEE6D,UAAU,GAAG7D,CAAC,CAAE,kCAAF,CAFhB;EAIA+D,QAAAA,UAAU,CAACpC,QAAX,CAAqB,CAAC,CAAtB;EACAoC,QAAAA,UAAU,CAACE,MAAX,GAAoB1B,IAApB,CAA0B,UAA1B,EAAuCP,QAAvC,CAAiD,WAAjD;;EAEA,YAAKkC,aAAa,CAACG,cAAd,CAA8BD,QAA9B,CAAL,EAAgD;EAC9CnB,UAAAA,cAAc,CAACW,uBAAf,CAAwCC,UAAxC,EAAoDK,aAAa,CAAEE,QAAF,CAAjE,EAA+EL,UAA/E;EACD,SAFD,MAEO;EACL/D,UAAAA,CAAC,CAACsE,IAAF,CAAQ;EACNC,YAAAA,GAAG,EAAEC,OADC;EAENC,YAAAA,MAAM,EAAE,MAFF;EAGNC,YAAAA,IAAI,EAAE;EACJC,cAAAA,MAAM,EAAE,mCADJ;EAEJC,cAAAA,WAAW,EAAEC,SAAS,CAACC,KAFnB;EAGJV,cAAAA,QAAQ,EAAEA;EAHN,aAHA;EAQNW,YAAAA,UAAU,EAAE,sBAAM;EARZ,WAAR,EASIC,MATJ,CASY,YAAM,EATlB,EAWIC,IAXJ,CAWU,UAAEnB,GAAF,EAAW;EACnBI,YAAAA,aAAa,CAAEE,QAAF,CAAb,GAA4BN,GAAG,CAACY,IAAhC;EACAzB,YAAAA,cAAc,CAACW,uBAAf,CAAwCC,UAAxC,EAAoDC,GAAG,CAACY,IAAxD,EAA8DX,UAA9D;EACD,WAdD,EAcImB,IAdJ,CAcU,UAAEC,GAAF,EAAW,EAdrB;EAiBD;EACF,OAlCD;EAoCAnF,MAAAA,CAAC,CAAE,4DAAF,CAAD,CAAkEqC,EAAlE,CAAsE,QAAtE,EAAgF,YAAY;EAC1F,YAAIe,IAAI,GAAGpD,CAAC,CAAE,8BAAF,CAAD,CAAoCwC,GAApC,EAAX;EAAA,YACE4B,QAAQ,GAAGpE,CAAC,CAAE,8BAAF,CAAD,CAAoCwC,GAApC,EADb;EAAA,YAEE4C,SAAS,GAAGpF,CAAC,CAAE,YAAF,CAFf;EAAA,YAGEqF,QAAQ,GAAGrF,CAAC,CAAE,0BAAF,CAHd;;EAIA,YAAKoD,IAAI,KAAK,KAAd,EAAsB;EACpBgC,UAAAA,SAAS,CAAC7B,IAAV;EACA8B,UAAAA,QAAQ,CAAC/B,IAAT;EACD,SAHD,MAGO,IAAKF,IAAI,KAAK,KAAT,IAAkBA,IAAI,KAAK,KAAhC,EAAwC;EAC7CgC,UAAAA,SAAS,CAAC9B,IAAV;EACA+B,UAAAA,QAAQ,CAAC9B,IAAT;EACD,SAHM,MAGA,IAAKH,IAAI,KAAK,EAAd,EAAmB;EACxBgC,UAAAA,SAAS,CAAC9B,IAAV;EACA+B,UAAAA,QAAQ,CAAC/B,IAAT;EACD;;EACD,YAAKF,IAAI,KAAK,EAAT,IAAe,CAAE,QAAF,EAAY,UAAZ,EAAwB,WAAxB,EAAsCkC,OAAtC,CAA+ClB,QAA/C,MAA8D,CAAC,CAAnF,EAAuF;EACrFgB,UAAAA,SAAS,CAAC9B,IAAV;EACD;EACF,OAlBD,EAkBIK,OAlBJ,CAkBa,QAlBb;EAmBD,KAtLoB;EAuLrBrD,IAAAA,aAAa,EAAE,yBAAY;EACzB,UAAIiF,aAAa,GAAGvF,CAAC,CAAE,0BAAF,CAArB;EACA,UAAIwF,QAAQ,GAAGxF,CAAC,CAAE,sBAAF,CAAhB;EACA,UAAIyF,UAAU,GAAGzF,CAAC,CAAE,mBAAF,CAAlB;EACA,UAAI0F,UAAU,GAAG1F,CAAC,CAAE,mBAAF,CAAlB;EAEAA,MAAAA,CAAC,CAAEoC,QAAF,CAAD,CAAcC,EAAd,CAAkB,OAAlB,EAA2B,qBAA3B,EAAkD,UAAWQ,CAAX,EAAe;EAC/DA,QAAAA,CAAC,CAACC,cAAF;EACA9C,QAAAA,CAAC,CAAE,qBAAF,CAAD,CAA2B2F,GAA3B,CAAgC;EAAE,qBAAW;EAAb,SAAhC;EACA,YAAIC,SAAS,GAAG5F,CAAC,CAAE,IAAF,CAAD,CAAU4C,IAAV,CAAgB,IAAhB,CAAhB;EACAiD,QAAAA,YAAY,CAAED,SAAF,CAAZ;EACD,OALD;EAOA5F,MAAAA,CAAC,CAAEoC,QAAF,CAAD,CAAcC,EAAd,CAAkB,OAAlB,EAA2B,uBAA3B,EAAoD,UAAWQ,CAAX,EAAe;EACjEA,QAAAA,CAAC,CAACC,cAAF;EACA9C,QAAAA,CAAC,CAAE,qBAAF,CAAD,CAA2B2F,GAA3B,CAAgC;EAAE,qBAAW;EAAb,SAAhC;EACA,YAAIzC,IAAI,GAAGd,QAAQ,CAAC0D,KAAT,CAAeC,SAAf,CAA0B,MAA1B,CAAX;EACA,YAAIC,QAAQ,GAAG,IAAIC,QAAJ,CAAc/C,IAAd,CAAf;EACA8C,QAAAA,QAAQ,CAACtC,MAAT,CAAiB,QAAjB,EAA2B,yBAA3B;EAEA1D,QAAAA,CAAC,CAACsE,IAAF,CAAQ;EACNC,UAAAA,GAAG,EAAEC,OADC;EAENC,UAAAA,MAAM,EAAE,MAFF;EAGNC,UAAAA,IAAI,EAAEsB,QAHA;EAINE,UAAAA,QAAQ,EAAE,MAJJ;EAKNC,UAAAA,WAAW,EAAE,KALP;EAMNC,UAAAA,KAAK,EAAE,KAND;EAONC,UAAAA,WAAW,EAAE,KAPP;EAQNtB,UAAAA,UAAU,EAAE,sBAAM;EAChBS,YAAAA,QAAQ,CAACjC,IAAT;EACA+C,YAAAA,mBAAmB,CAAE,KAAF,CAAnB;EACD;EAXK,SAAR,EAYItB,MAZJ,CAYY,YAAM,EAZlB,EAcIC,IAdJ,CAcU,UAAEnB,GAAF,EAAW;EACnB,cAAKA,GAAG,CAACY,IAAJ,CAAS9C,MAAd,EAAuB;EACrB0E,YAAAA,mBAAmB,CAAExC,GAAG,CAACY,IAAJ,CAAS6B,OAAX,CAAnB;EACAC,YAAAA,qBAAqB,CAAE,EAAF,CAArB;EACAC,YAAAA,uBAAuB,CAAE,EAAF,CAAvB;EACAZ,YAAAA,YAAY,CAAE/B,GAAG,CAACY,IAAJ,CAASgC,SAAX,CAAZ;EACD,WALD,MAKO;EACLJ,YAAAA,mBAAmB,CAAExC,GAAG,CAACY,IAAJ,CAAS6B,OAAX,CAAnB;EACD;EACF,SAvBD,EAuBIrB,IAvBJ,CAuBU,UAAEC,GAAF,EAAW;EACnBmB,UAAAA,mBAAmB,CAAEnB,GAAG,CAACwB,YAAJ,CAAiBjC,IAAjB,CAAsB6B,OAAxB,CAAnB;EACAhB,UAAAA,aAAa,CAAChC,IAAd;EACAiC,UAAAA,QAAQ,CAAClC,IAAT;EACD,SA3BD;EA4BD,OAnCD;;EAqCA,eAASuC,YAAT,CAAuBa,SAAvB,EAAmC;EACjC1G,QAAAA,CAAC,CAACsE,IAAF,CAAQ;EACNC,UAAAA,GAAG,EAAEC,OADC;EAENC,UAAAA,MAAM,EAAE,MAFF;EAGNC,UAAAA,IAAI,EAAE;EACJC,YAAAA,MAAM,EAAE,mCADJ;EAEJC,YAAAA,WAAW,EAAEC,SAAS,CAACC,KAFnB;EAGJ4B,YAAAA,SAAS,EAAEA;EAHP,WAHA;EAQN3B,UAAAA,UAAU,EAAE,sBAAM;EARZ,SAAR,EASIC,MATJ,CASY,YAAM,EATlB,EAWIC,IAXJ,CAWU,UAAEnB,GAAF,EAAW;EACnB,cAAKA,GAAG,CAACY,IAAJ,CAAS9C,MAAd,EAAuB;EACrB0E,YAAAA,mBAAmB,CAAExC,GAAG,CAACY,IAAJ,CAAS6B,OAAX,CAAnB;EACAC,YAAAA,qBAAqB,CAAE,EAAF,CAArB;EACAC,YAAAA,uBAAuB,CAAE,EAAF,CAAvB;EACAG,YAAAA,QAAQ,CAAEF,SAAF,EAAa5C,GAAG,CAACY,IAAJ,CAASmC,QAAtB,EAAgC/C,GAAG,CAACY,IAAJ,CAASoC,KAAzC,CAAR;EACD;EAEF,SAnBD,EAmBI5B,IAnBJ,CAmBU,UAAEC,GAAF,EAAW;EACnBmB,UAAAA,mBAAmB,CAAEnB,GAAG,CAACwB,YAAJ,CAAiBjC,IAAjB,CAAsB6B,OAAxB,CAAnB;EACAhB,UAAAA,aAAa,CAAChC,IAAd;EACAiC,UAAAA,QAAQ,CAAClC,IAAT;EACD,SAvBD;EAwBD;;EAED,eAASsD,QAAT,CAAmBF,SAAnB,EAA8BK,OAA9B,EAAuCC,cAAvC,EAAuDC,CAAvD,EAA2D;EACzD,YAAK,OAASA,CAAT,KAAiB,WAAtB,EAAoC;EAClCA,UAAAA,CAAC,GAAG,CAAJ;EACD;;EAED,YAAIC,WAAW,GAAGH,OAAO,CAACzF,MAA1B;EACA,YAAI6F,cAAc,GAAG,KAAKD,WAA1B;EACA,YAAIE,KAAK,GAAGL,OAAO,CAAEE,CAAF,CAAnB;EACA,YAAII,aAAa,GAAGJ,CAAC,GAAG,CAAxB;EAEAjH,QAAAA,CAAC,CAACsE,IAAF,CAAQ;EACNC,UAAAA,GAAG,EAAEC,OADC;EAENC,UAAAA,MAAM,EAAE,MAFF;EAGNC,UAAAA,IAAI,EAAE;EACJC,YAAAA,MAAM,EAAE,6BADJ;EAEJ+B,YAAAA,SAAS,EAAEA,SAFP;EAGJG,YAAAA,QAAQ,EAAEO,KAHN;EAIJxC,YAAAA,WAAW,EAAEC,SAAS,CAACC,KAJnB;EAKJwC,YAAAA,IAAI,EAAEL;EALF,WAHA;EAUNlC,UAAAA,UAAU,EAAE,sBAAM;EAChBuB,YAAAA,mBAAmB,CACjB,sBAAsBe,aAAtB,GAAsC,MAAtC,GAA+CH,WAA/C,GAA6D,aAA7D,GACAF,cADA,GACiB,YAFA,CAAnB;EAGD;EAdK,SAAR,EAeIhC,MAfJ,CAeY,YAAM,EAflB,EAiBIC,IAjBJ,CAiBU,UAAEnB,GAAF,EAAW;EACnB,cAAKuD,aAAa,GAAGH,WAArB,EAAmC;EACjCD,YAAAA,CAAC,GAAGA,CAAC,GAAG,CAAR;EACAL,YAAAA,QAAQ,CAAEF,SAAF,EAAaK,OAAb,EAAsBC,cAAtB,EAAsCC,CAAtC,CAAR;EACAT,YAAAA,qBAAqB,CAAE,KAAKW,cAAc,GAAGE,aAAxB,CAArB;EACAZ,YAAAA,uBAAuB,CAAEc,IAAI,CAACC,KAAL,CAAY,KAAKL,cAAc,GAAGE,aAAlC,CAAF,CAAvB;EACD;;EAED,cAAKA,aAAa,KAAKH,WAAvB,EAAqC;EACnCO,YAAAA,SAAS,CAAEf,SAAF,CAAT;EACD;EAEF,SA7BD,EA6BIxB,IA7BJ,CA6BU,UAAEC,GAAF,EAAW;EACnBmB,UAAAA,mBAAmB,CAAEnB,GAAG,CAACwB,YAAJ,CAAiBjC,IAAjB,CAAsB6B,OAAxB,CAAnB;EACAhB,UAAAA,aAAa,CAAChC,IAAd;EACAiC,UAAAA,QAAQ,CAAClC,IAAT;EACD,SAjCD;EAkCD;;EAED,eAASmE,SAAT,CAAoBf,SAApB,EAAgC;EAC9B1G,QAAAA,CAAC,CAACsE,IAAF,CAAQ;EACNC,UAAAA,GAAG,EAAEC,OADC;EAENC,UAAAA,MAAM,EAAE,MAFF;EAGNC,UAAAA,IAAI,EAAE;EACJC,YAAAA,MAAM,EAAE,4BADJ;EAEJC,YAAAA,WAAW,EAAEC,SAAS,CAACC,KAFnB;EAGJ4B,YAAAA,SAAS,EAAEA;EAHP,WAHA;EAQN3B,UAAAA,UAAU,EAAE,sBAAM;EAChBuB,YAAAA,mBAAmB,CAAE,gBAAF,CAAnB;EACD;EAVK,SAAR,EAWItB,MAXJ,CAWY,YAAM,EAXlB,EAaIC,IAbJ,CAaU,UAAEnB,GAAF,EAAW;EACnB,cAAKA,GAAG,CAACY,IAAJ,CAAS9C,MAAd,EAAuB;EACrB0E,YAAAA,mBAAmB,CAAExC,GAAG,CAACY,IAAJ,CAAS6B,OAAX,CAAnB;EACAC,YAAAA,qBAAqB,CAAE,GAAF,CAArB;EACAC,YAAAA,uBAAuB,CAAE,GAAF,CAAvB;EACAjB,YAAAA,QAAQ,CAACxC,MAAT;EACAuC,YAAAA,aAAa,CAACvC,MAAd;EACAhD,YAAAA,CAAC,CAAE,+BAAF,CAAD,CAAqCuD,IAArC;EACAkC,YAAAA,UAAU,CAAC7C,IAAX,CAAiB,MAAjB,EAAyBkB,GAAG,CAACY,IAAJ,CAASH,GAAlC;EACAmB,YAAAA,UAAU,CAAC9C,IAAX,CAAiB,MAAjB,EAAyBkB,GAAG,CAACY,IAAJ,CAASgD,SAAlC;EACAjC,YAAAA,UAAU,CAAClC,IAAX;EACAmC,YAAAA,UAAU,CAACnC,IAAX;EAEA,gBAAIoE,QAAQ,GAAG,CAAf;EACA,gBAAIC,aAAa,GAAGC,WAAW,CAAE,YAAY;EAC3CF,cAAAA,QAAQ;EACRvF,cAAAA,QAAQ,CAAC0F,cAAT,CAAyB,gBAAzB,EAA4CC,WAA5C,GAA0DJ,QAA1D;EACA,kBAAKA,QAAQ,IAAI,CAAjB,EACEK,aAAa,CAAEJ,aAAF,CAAb;EACH,aAL8B,EAK5B,IAL4B,CAA/B;EAMAK,YAAAA,UAAU,CAAE,YAAY;EACtBC,cAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBvD,SAAS,CAACwD,iBAAjC;EACD,aAFS,EAEP,IAFO,CAAV;EAGD;EACF,SArCD,EAqCInD,IArCJ,CAqCU,UAAEC,GAAF,EAAW;EACnBmB,UAAAA,mBAAmB,CAAEnB,GAAG,CAACwB,YAAJ,CAAiBjC,IAAjB,CAAsB6B,OAAxB,CAAnB;EACAhB,UAAAA,aAAa,CAAChC,IAAd;EACAiC,UAAAA,QAAQ,CAAClC,IAAT;EACD,SAzCD;EA0CD;;EAED,eAASgD,mBAAT,CAA8BgC,IAA9B,EAAqC;EACnCtI,QAAAA,CAAC,CAAE,8BAAF,CAAD,CAAoCgE,IAApC,CAA0CsE,IAA1C;EACD;;EAED,eAAS9B,qBAAT,CAAgC+B,OAAhC,EAA0C;EACxCvI,QAAAA,CAAC,CAAE,gCAAF,CAAD,CAAsC2F,GAAtC,CAA2C,OAA3C,EAAoD4C,OAAO,GAAG,GAA9D;EACD;;EAED,eAAS9B,uBAAT,CAAkC6B,IAAlC,EAAyC;EACvCtI,QAAAA,CAAC,CAAE,kCAAF,CAAD,CAAwCgE,IAAxC,CAA8CsE,IAAI,GAAG,GAArD;EACD;EACF,KA1WoB;EA2WrB/H,IAAAA,WAAW,EAAE,uBAAY;EACvBP,MAAAA,CAAC,CAAE,kCAAF,CAAD,CAAwCqC,EAAxC,CAA4C,OAA5C,EAAqD,UAAWQ,CAAX,EAAe;EAClEA,QAAAA,CAAC,CAACC,cAAF;;EACA,YAAK0F,OAAO,CAAE,uCAAF,CAAZ,EAA0D;EACxDN,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBpI,CAAC,CAAE,IAAF,CAAD,CAAU4C,IAAV,CAAgB,MAAhB,CAAvB;EACD;EACF,OALD;EAMD,KAlXoB;EAmXrBlC,IAAAA,sBAAsB,EAAE,kCAAY;EAClCV,MAAAA,CAAC,CAAE,yBAAF,CAAD,CAA+BqC,EAA/B,CAAmC,OAAnC,EAA4C,UAAWQ,CAAX,EAAe;EACzDA,QAAAA,CAAC,CAACC,cAAF;EACA,YAAII,IAAI,GAAGd,QAAQ,CAAC0D,KAAT,CAAeC,SAAf,CAA0B,MAA1B,CAAX;EACA,YAAIC,QAAQ,GAAG,IAAIC,QAAJ,CAAc/C,IAAd,CAAf;EACA8C,QAAAA,QAAQ,CAACtC,MAAT,CAAiB,QAAjB,EAA2B,oCAA3B;EACA,YAAI+E,cAAc,GAAGzI,CAAC,CAAE,IAAF,CAAtB;EAAA,YACE0I,UAAU,GAAG1I,CAAC,CAAE,iCAAF,CADhB;EAAA,YAEEwF,QAAQ,GAAGxF,CAAC,CAAE,sBAAF,CAFd;EAAA,YAGE2I,KAAK,GAAG3I,CAAC,CAAE,sBAAF,CAHX;EAKAA,QAAAA,CAAC,CAACsE,IAAF,CAAQ;EACNC,UAAAA,GAAG,EAAEC,OADC;EAENC,UAAAA,MAAM,EAAE,MAFF;EAGNC,UAAAA,IAAI,EAAEsB,QAHA;EAINE,UAAAA,QAAQ,EAAE,MAJJ;EAKNC,UAAAA,WAAW,EAAE,KALP;EAMNC,UAAAA,KAAK,EAAE,KAND;EAONC,UAAAA,WAAW,EAAE,KAPP;EAQNtB,UAAAA,UAAU,EAAE,sBAAM;EAChB0D,YAAAA,cAAc,CAAC7F,IAAf,CAAqB,UAArB,EAAiC,IAAjC;EACA+F,YAAAA,KAAK,CAACrF,IAAN;EACAkC,YAAAA,QAAQ,CAACjC,IAAT;EACD;EAZK,SAAR,EAaIyB,MAbJ,CAaY,YAAM,EAblB,EAeIC,IAfJ,CAeU,UAAEnB,GAAF,EAAW;EACnB4E,UAAAA,UAAU,CAACpF,IAAX;EACAoF,UAAAA,UAAU,CAACzG,WAAX,CAAwB,OAAxB;EACAyG,UAAAA,UAAU,CAAC1G,QAAX,CAAqB,SAArB;EACA0G,UAAAA,UAAU,CAACnG,IAAX,CAAiB,kCAAjB,EAAsDyB,IAAtD,CAA4DF,GAAG,CAACY,IAAJ,CAAS6B,OAArE;EACAmC,UAAAA,UAAU,CAACnG,IAAX,CAAiB,kCAAjB,EAAsDgB,IAAtD;EACAmF,UAAAA,UAAU,CAACnG,IAAX,CAAiB,wCAAjB,EAA4De,IAA5D;EACAoF,UAAAA,UAAU,CAACnG,IAAX,CAAiB,wCAAjB,EAA4De,IAA5D;EACAoF,UAAAA,UAAU,CAACnG,IAAX,CAAiB,0CAAjB,EAA8DyB,IAA9D,CAAoE,EAApE;EACA0E,UAAAA,UAAU,CAACnG,IAAX,CAAiB,wCAAjB,EAA4DyB,IAA5D,CAAkE,EAAlE;EACA0E,UAAAA,UAAU,CAACnF,IAAX;EACAoF,UAAAA,KAAK,CAACpF,IAAN;EACAiC,UAAAA,QAAQ,CAAClC,IAAT;EACAmF,UAAAA,cAAc,CAAC7F,IAAf,CAAqB,UAArB,EAAiC,KAAjC;EACAuF,UAAAA,QAAQ,CAACS,MAAT;EACD,SA9BD,EA8BI1D,IA9BJ,CA8BU,UAAEC,GAAF,EAAW;EACnBuD,UAAAA,UAAU,CAAC1G,QAAX,CAAqB,OAArB;EACA0G,UAAAA,UAAU,CAACzG,WAAX,CAAwB,SAAxB;EACAyG,UAAAA,UAAU,CAACnG,IAAX,CAAiB,0CAAjB,EAA8DyB,IAA9D,CAAoEmB,GAAG,CAACwB,YAAJ,CAAiBjC,IAAjB,CAAsBmE,MAA1F;EACAH,UAAAA,UAAU,CAACnG,IAAX,CAAiB,wCAAjB,EAA4DyB,IAA5D,CAAkEmB,GAAG,CAACwB,YAAJ,CAAiBjC,IAAjB,CAAsB6B,OAAxF;EACAmC,UAAAA,UAAU,CAACnG,IAAX,CAAiB,kCAAjB,EAAsDe,IAAtD;EACAoF,UAAAA,UAAU,CAACnG,IAAX,CAAiB,wCAAjB,EAA4DgB,IAA5D;EACAmF,UAAAA,UAAU,CAACnG,IAAX,CAAiB,wCAAjB,EAA4DgB,IAA5D;EACAmF,UAAAA,UAAU,CAACnF,IAAX;EACAoF,UAAAA,KAAK,CAACpF,IAAN;EACAiC,UAAAA,QAAQ,CAAClC,IAAT;EACAmF,UAAAA,cAAc,CAAC7F,IAAf,CAAqB,UAArB,EAAiC,KAAjC;EACD,SA1CD;EA2CD,OArDD;EAsDD,KA1aoB;EA2arBjC,IAAAA,mBAAmB,EAAE,+BAAY;EAC/BX,MAAAA,CAAC,CAAEoC,QAAF,CAAD,CAAc0G,KAAd,CAAqB,YAAY;EAC/B,YAAIC,QAAQ,GAAG/I,CAAC,CAAE,kBAAF,CAAD,CAAwBwC,GAAxB,EAAf;EACAwG,QAAAA,eAAe,CAAED,QAAF,CAAf;EACD,OAHD;EAKA/I,MAAAA,CAAC,CAAE,kBAAF,CAAD,CAAwBqC,EAAxB,CAA4B,QAA5B,EAAsC,UAAWQ,CAAX,EAAe;EACnD,YAAIkG,QAAQ,GAAG/I,CAAC,CAAE,IAAF,CAAD,CAAUwC,GAAV,EAAf;EACAwG,QAAAA,eAAe,CAAED,QAAF,CAAf;EACD,OAHD;;EAKA,eAASC,eAAT,CAA0BD,QAA1B,EAAqC;EACnC,YAAIE,MAAM,GAAGjJ,CAAC,CAAE,gCAAF,CAAd;EAAA,YACEkJ,KAAK,GAAGlJ,CAAC,CAAE,mCAAF,CADX;;EAGA,YAAK,cAAc+I,QAAnB,EAA8B;EAC5BE,UAAAA,MAAM,CAAC1F,IAAP;EACA2F,UAAAA,KAAK,CAAC5F,IAAN;EACD,SAHD,MAGO,IAAK,aAAayF,QAAlB,EAA6B;EAClCE,UAAAA,MAAM,CAAC3F,IAAP;EACA4F,UAAAA,KAAK,CAAC3F,IAAN;EACD,SAHM,MAGA;EACL0F,UAAAA,MAAM,CAAC3F,IAAP;EACA4F,UAAAA,KAAK,CAAC5F,IAAN;EACD;EACF;EACF,KArcoB;EAscrB1C,IAAAA,wBAAwB,EAAE,oCAAY;EACpC,UAAIuI,eAAe,GAAG,EAAtB;EACAnJ,MAAAA,CAAC,CAAE,gCAAF,CAAD,CAAsCqC,EAAtC,CAA0C,OAA1C,EAAmD,UAAWQ,CAAX,EAAe;EAChEA,QAAAA,CAAC,CAACC,cAAF;EACA,YAAIsG,YAAY,GAAGpJ,CAAC,CAAE,iCAAF,CAApB;;EACA,YAAKmJ,eAAL,EAAuB;EACrBC,UAAAA,YAAY,CAAC1F,MAAb,CAAqByF,eAArB;EACAlJ,UAAAA,gBAAgB,CAACc,aAAjB;EACAd,UAAAA,gBAAgB,CAACa,uBAAjB;EACD,SAJD,MAIO;EACLd,UAAAA,CAAC,CAACsE,IAAF,CAAQ;EACNC,YAAAA,GAAG,EAAEC,OADC;EAENC,YAAAA,MAAM,EAAE,MAFF;EAGNC,YAAAA,IAAI,EAAE;EACJC,cAAAA,MAAM,EAAE,sCADJ;EAEJC,cAAAA,WAAW,EAAEC,SAAS,CAACC;EAFnB;EAHA,WAAR,EAOIE,MAPJ,CAOY,YAAM,EAPlB,EASIC,IATJ,CASU,UAAEnB,GAAF,EAAW;EACnBsF,YAAAA,YAAY,CAAC1F,MAAb,CAAqBI,GAAG,CAACY,IAAJ,CAASrB,GAA9B;EACA8F,YAAAA,eAAe,GAAGrF,GAAG,CAACY,IAAJ,CAASrB,GAA3B;EACApD,YAAAA,gBAAgB,CAACc,aAAjB;EACAd,YAAAA,gBAAgB,CAACa,uBAAjB;EACD,WAdD,EAcIoE,IAdJ,CAcU,UAAEC,GAAF,EAAW,EAdrB;EAiBD;EACF,OA1BD;EA2BD,KAneoB;EAoerBtE,IAAAA,uBAAuB,EAAE,mCAAY;EACnCb,MAAAA,CAAC,CAAEoC,QAAF,CAAD,CAAcC,EAAd,CAAkB,OAAlB,EAA2B,4BAA3B,EAAyD,UAAWQ,CAAX,EAAe;EACtEA,QAAAA,CAAC,CAACC,cAAF;EACA9C,QAAAA,CAAC,CAAE,IAAF,CAAD,CAAU+C,OAAV,CAAmB,IAAnB,EAA0BC,MAA1B;EACA/C,QAAAA,gBAAgB,CAACc,aAAjB;EACAd,QAAAA,gBAAgB,CAACa,uBAAjB;EACD,OALD;EAMD,KA3eoB;EA4erBA,IAAAA,uBAAuB,EAAE,mCAAY;EACnC,UAAIO,WAAW,GAAGrB,CAAC,CAAE,iCAAF,CAAnB;;EACA,UAAKqB,WAAW,CAACC,MAAjB,EAA0B;EACxBD,QAAAA,WAAW,CAACE,QAAZ,CAAsB;EAAEC,UAAAA,MAAM,EAAE;EAAV,SAAtB,EAA2CC,gBAA3C;EACD;EACF,KAjfoB;EAkfrBV,IAAAA,aAAa,EAAE,uBAAW8B,CAAX,EAAe;EAC5B,UAAI9B,aAAa,GAAGf,CAAC,CAAE,oEAAF,CAAD,CAA0EsB,MAA9F;;EACA,UAAKP,aAAa,IAAI,CAAtB,EAA0B;EACxBf,QAAAA,CAAC,CAAE,4BAAF,CAAD,CAAkCsD,IAAlC;EACD,OAFD,MAEO;EACLtD,QAAAA,CAAC,CAAE,4BAAF,CAAD,CAAkCuD,IAAlC;EACD;EACF,KAzfoB;EA0frBvC,IAAAA,sCAAsC,EAAE,kDAAY;EAClD,UAAImI,eAAe,GAAG,EAAtB;EACAnJ,MAAAA,CAAC,CAAE,2CAAF,CAAD,CAAiDqC,EAAjD,CAAqD,OAArD,EAA8D,UAAWQ,CAAX,EAAe;EAC3EA,QAAAA,CAAC,CAACC,cAAF;EACA,YAAIsG,YAAY,GAAGpJ,CAAC,CAAE,4CAAF,CAApB;;EACA,YAAKmJ,eAAL,EAAuB;EACrBC,UAAAA,YAAY,CAAC1F,MAAb,CAAqByF,eAArB;EACAlJ,UAAAA,gBAAgB,CAACkB,wBAAjB;EACAlB,UAAAA,gBAAgB,CAACiB,kCAAjB;EACD,SAJD,MAIO;EACLlB,UAAAA,CAAC,CAACsE,IAAF,CAAQ;EACNC,YAAAA,GAAG,EAAEC,OADC;EAENC,YAAAA,MAAM,EAAE,MAFF;EAGNC,YAAAA,IAAI,EAAE;EACJC,cAAAA,MAAM,EAAE,oDADJ;EAEJC,cAAAA,WAAW,EAAEC,SAAS,CAACC;EAFnB;EAHA,WAAR,EAOIE,MAPJ,CAOY,YAAM,EAPlB,EASIC,IATJ,CASU,UAAEnB,GAAF,EAAW;EACnBsF,YAAAA,YAAY,CAAC1F,MAAb,CAAqBI,GAAG,CAACY,IAAJ,CAASrB,GAA9B;EACA8F,YAAAA,eAAe,GAAGrF,GAAG,CAACY,IAAJ,CAASrB,GAA3B;EACApD,YAAAA,gBAAgB,CAACkB,wBAAjB;EACAlB,YAAAA,gBAAgB,CAACiB,kCAAjB;EACD,WAdD,EAcIgE,IAdJ,CAcU,UAAEC,GAAF,EAAW,EAdrB;EAiBD;EACF,OA1BD;EA2BD,KAvhBoB;EAwhBrBlE,IAAAA,qCAAqC,EAAE,iDAAY;EACjDjB,MAAAA,CAAC,CAAEoC,QAAF,CAAD,CAAcC,EAAd,CAAkB,OAAlB,EAA2B,uCAA3B,EAAoE,UAAWQ,CAAX,EAAe;EACjFA,QAAAA,CAAC,CAACC,cAAF;EACA9C,QAAAA,CAAC,CAAE,IAAF,CAAD,CAAU+C,OAAV,CAAmB,IAAnB,EAA0BC,MAA1B;EACA/C,QAAAA,gBAAgB,CAACkB,wBAAjB;EACAlB,QAAAA,gBAAgB,CAACiB,kCAAjB;EACD,OALD;EAMD,KA/hBoB;EAgiBrBA,IAAAA,kCAAkC,EAAE,8CAAY;EAC9C,UAAIG,WAAW,GAAGrB,CAAC,CAAE,4CAAF,CAAnB;;EACA,UAAKqB,WAAW,CAACC,MAAjB,EAA0B;EACxBD,QAAAA,WAAW,CAACE,QAAZ,CAAsB;EAAEC,UAAAA,MAAM,EAAE;EAAV,SAAtB,EAA2CC,gBAA3C;EACD;EACF,KAriBoB;EAsiBrBN,IAAAA,wBAAwB,EAAE,kCAAW0B,CAAX,EAAe;EACvC,UAAI9B,aAAa,GAAGf,CAAC,CAAE,0FAAF,CAAD,CAAgGsB,MAApH;;EACA,UAAKP,aAAa,IAAI,CAAtB,EAA0B;EACxBf,QAAAA,CAAC,CAAE,uCAAF,CAAD,CAA6CsD,IAA7C;EACD,OAFD,MAEO;EACLtD,QAAAA,CAAC,CAAE,uCAAF,CAAD,CAA6CuD,IAA7C;EACD;EACF,KA7iBoB;EA8iBrBnC,IAAAA,KAAK,EAAE,eAAWyB,CAAX,EAAe;EACpB7C,MAAAA,CAAC,CAAEoC,QAAF,CAAD,CAAc0G,KAAd,CAAqB,YAAY;EAC/B,YAAIO,qBAAqB,GAAGrJ,CAAC,CAAE,+BAAF,CAA7B;EACAsJ,QAAAA,wBAAwB,CAAED,qBAAF,CAAxB;EAEAA,QAAAA,qBAAqB,CAACE,MAAtB,CAA8B,YAAY;EACxC,cAAIC,GAAG,GAAGxJ,CAAC,CAAE,IAAF,CAAX;EACAsJ,UAAAA,wBAAwB,CAAEE,GAAF,CAAxB;EACD,SAHD;EAKAxJ,QAAAA,CAAC,CAAC,kCAAD,CAAD,CAAsCuJ,MAAtC,CAA6C,YAAY;EACvD,cAAIE,OAAO,GAAGzJ,CAAC,CAAC,yBAAD,CAAf;;EAEA,cAAIA,CAAC,CAAC,IAAD,CAAD,CAAQ+B,IAAR,CAAa,SAAb,CAAJ,EAA6B;EAC3B0H,YAAAA,OAAO,CAAClG,IAAR;EACD,WAFD,MAEO;EACLkG,YAAAA,OAAO,CAACnG,IAAR;EACD;EACF,SARD;EASD,OAlBD;;EAoBA,eAASgG,wBAAT,CAAmCE,GAAnC,EAAyC;EACvC,YAAIC,OAAO,GAAGzJ,CAAC,CAAE,+BAAF,CAAf;EACA,YAAI0J,UAAU,GAAG1J,CAAC,CAAC,iFACjB,oDADgB,CAAlB;;EAEA,YAAKwJ,GAAG,CAACzH,IAAJ,CAAU,SAAV,CAAL,EAA6B;EAC3B0H,UAAAA,OAAO,CAAClG,IAAR;EACAmG,UAAAA,UAAU,CAACpG,IAAX;EACD,SAHD,MAGO;EACLmG,UAAAA,OAAO,CAACnG,IAAR;EACAoG,UAAAA,UAAU,CAACnG,IAAX;EACD;EACF;EACF;EA/kBoB,GAAvB;EAklBAvD,EAAAA,CAAC,CAAEC,gBAAgB,CAACC,IAAnB,CAAD;EACD,CAplBD,EAolBKyJ,MAplBL;;;;"}